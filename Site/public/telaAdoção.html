<!DOCTYPE html>
<html>

<head>
  <link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet" />
  <link href="css\telaAdoção.css" rel="stylesheet" />
  <link href="css\template.css" rel="stylesheet" />
  <title>Document</title>
</head>

<body>
  <header class="header">

    <div class="logo">

      <a href="ondeTudoComecou.html">
        <img src="assets\Cat icon.png" style="width:80px; height: 80px">
      </a>
      </div>
    <div class="containerOpções">
      <li>
        <a class="a2" href="index.html">Home</a>
      </li>
      <li>
        <a class="a2" href="quemSomos.html">Quem Somos</a>
      </li>
      <li>
        <a class="a2" href="dicas.html">Dicas</a>
      </li>
      <li>
        <a class="a1" href="telaAdoção.html">Adote</a>
      </li>
      <div class="containerOpções2">
        <a class="a2" href="cadastro.html" style="color: #8F149A;">
          Cadastro
        </a>
        <a class="a2 " href="login.html">
          <img src="assets\perfil.png" style="width: 30px; height: 30px">
        </a>
      </div>
    </div>
  </header>


  <div class="containerAdoção">

    <div class="banner">

      <div class="imagemBanner">
        <img class="imagemBanner" src="assets/Cat4.jpg" alt="Imagem do banner">

      </div>

    </div>

    <div class="tituloGatos">
      <span class="titulo">Seu próximo amigo</span>

      <div class="botao1">
        <button class="botao" onclick="abrir()">Colocar um gato para adoção</button>
      </div>

    </div>

    <div class="containerCaixota" id="containerCaixota2">
      <div class="containerCaixas" id="container-caixa">

        <div class="caixa">
          <div class="background-foto">
            <!-- <img src="" alt=""> -->
          </div>

          <div class="containerNomeGato">
            <span class="nomeGato">Juca</span>
          </div>

          <div class="containerCaracterísticas">

            <div class="amigavel">
              <span class="texto-característica">Amigável</span>
            </div>

          </div>

        </div>

      </div>
    </div>

  </div>
  </div>

  <footer>
    <div class="container1">
      <div class="containerItens">
        <div class="imagens">

          <a href="https://www.facebook.com/profile.php?id=61554143189765" target="_blank">
            <img src="assets\facebook.png" width="50px" height="50">
          </a>

          <a href="https://www.instagram.com/adoteumfelpudo/" target="_blank">
            <img src="assets\Instagram.png" width="50px" height="50">
          </a>

          <a href="https://twitter.com/adoteumfelpudo" target="_blank">
            <img src="assets\Twitter.png" width="50px" height="50">
          </a>

        </div>
        <div>
          <b>Fale conosco: AdoteUmFelpudo@gmail.com</b>
        </div>
      </div>
  </footer>

</body>

</html>
<script>

  window.onload = upar()
  function upar() {
    fetch("/gato/listar").then(function (resposta) {
      if (resposta.ok) {
        if (resposta.status == 204) {
          var feed = document.getElementById("container-caixa");
          // var mensagem = document.createElement("span");
          // mensagem.innerHTML = "Nenhum resultado encontrado."
          // feed.appendChild(mensagem);
          throw "Nenhum resultado encontrado!!";
        }

        resposta.json().then(function (resposta) {
          console.log("Dados recebidos: ", JSON.stringify(resposta));

          var feed = document.getElementById("containerCaixota2");
          feed.innerHTML = "";
          for (let i = 0; i < resposta.length; i++) {
            var upar = resposta[i];

            // criando e manipulando elementos do HTML via JavaScript
            var divcontainerCaixa = document.createElement("div")
            var divCaixa = document.createElement("div");
            var divbackgroundFoto = document.createElement("div");
            var divcontainerNomeGato = document.createElement("div");
            var divcontainerCaracterísticas = document.createElement("div");
            var divamigavel = document.createElement("div");
            var spannomeGato = document.createElement("span");
            var spantextoCaracterística = document.createElement("span");

            spannomeGato.innerHTML = upar.nomeGato;
            spantextoCaracterística.innerHTML = upar.caractP;

            
            divcontainerCaixa.className = "containerCaixas"
            divCaixa.className = "caixa";
            divbackgroundFoto.className = "background-foto";
            divcontainerNomeGato.className = "containerNomeGato";
            divcontainerCaracterísticas.className = "containerCaracterísticas";
            divamigavel.className = "amigável";
            spannomeGato.classsName = "nomeGato";
            spantextoCaracterística.className = "texto-característica";

            divbackgroundFoto.addEventListener('click', function () {
              abrir2();; 
            });

            divCaixa.appendChild(divbackgroundFoto);
            divCaixa.appendChild(divcontainerNomeGato);
            divCaixa.appendChild(divcontainerCaracterísticas);
            divcontainerCaracterísticas.appendChild(divamigavel)
            divcontainerNomeGato.appendChild(spannomeGato);
            divamigavel.appendChild(spantextoCaracterística);
            divcontainerCaixa.appendChild(divCaixa);
            feed.appendChild(divcontainerCaixa);

          }
        });
      } else {
        throw ('Houve um erro na API!');
      }
    }).catch(function (resposta) {
      console.error(resposta);
    });
  }

  document.body.style.overflowX = "hidden";
  function abrir() {
    window.location.href = 'formAdoção.html';
  }

  function abrir2() {
    window.location.href = 'formAdotar.html';
  }

  // fetch("/gato/listar/", {// REQUISIÇÃO PARA REALIZAR O SELECT DO BANCO DE DADOS
  //   method: "GET",//Especificando qual metodo é aquele Fetch
  // })
  //   .then(function (resposta) {//Vai tentar realizar a reaquisição com o then
  //     resposta.json().then((objeto) => {//Com o parametro vai trasformar com um JSON e criar uma outra requisição
  //       var divPrincipal = document.getElementById('mostrar')//Criando uma variavel do e pegar o id mostrar

  //       objeto.forEach((item) => {// com a resposta da requisiçao, vai fazer um forEach com uma função anonima
  //         var div = document.createElement('div')// criar um elemento HTML div
  //         div.classList.add('className')// adicionar uma classlist do css
  //         div = item.nome //atribuindo a div que criei com o item do foreach com o nome pegado do banco
  //         divPrincipal.appendChild(div)  // colocando na div principal a div que criei
  //       })
  //     });
  //   })
  //   .catch(function (resposta) { // funçao para tratamento de erros
  //     console.log(`#ERRO: ${resposta}`);// mostrando o erro para o usuario
  //   });

</script>